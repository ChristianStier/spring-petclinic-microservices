"use strict";angular.module("visits").controller("VisitsController",["$http","$state","$stateParams","$filter",function(t,e,n,r){var s=this,i=n.petId||0,a="api/visit/owners/"+(n.ownerId||0)+"/pets/"+i+"/visits";s.date=new Date,s.desc="",t.get(a).then(function(t){s.visits=t.data}),s.submit=function(){var i={date:r("date")(s.date,"yyyy-MM-dd"),description:s.desc};t.post(a,i).then(function(){e.go("owners",{ownerId:n.ownerId})},function(t){var e=t.data;alert(e.error+"\r\n"+e.errors.map(function(t){return t.field+": "+t.defaultMessage}).join("\r\n"))})}}]);